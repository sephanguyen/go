ALTER TABLE IF EXISTS user_address DROP CONSTRAINT user_address__prefecture_code__fk;
ALTER TABLE IF EXISTS prefecture DROP CONSTRAINT prefecture__pk;

ALTER TABLE IF EXISTS prefecture ADD prefecture_id TEXT NOT NULL;
ALTER TABLE IF EXISTS prefecture add CONSTRAINT prefecture__pk PRIMARY KEY (prefecture_id);

ALTER TABLE IF EXISTS user_address RENAME prefecture_code TO prefecture_id;
ALTER TABLE IF EXISTS user_address ADD CONSTRAINT user_address__prefecture_id__fk FOREIGN KEY (prefecture_id) REFERENCES public.prefecture(prefecture_id);

INSERT INTO prefecture
(prefecture_id, prefecture_code, country, name)
VALUES
    ('01G94NBXEY8QX435T3J65QCQF0' , '01', 'COUNTRY_JP', '北海道'),
    ('01G94NBXEY8QX435T3J9YYP9S2' , '02', 'COUNTRY_JP', '青森県'),
    ('01G94NBXEY8QX435T3JFYZKD8G' , '03', 'COUNTRY_JP', '岩手県'),
    ('01G94NBXEY8QX435T3JM3GK7Z9' , '04', 'COUNTRY_JP', '宮城県'),
    ('01G94NBXEY8QX435T3JPGK80QK' , '05', 'COUNTRY_JP', '秋田県'),
    ('01G94NBXEY8QX435T3JVKHFH0A' , '06', 'COUNTRY_JP', '山形県'),
    ('01G94NBXEY8QX435T3K2JTNJYE' , '07', 'COUNTRY_JP', '福島県'),
    ('01G94NBXEY8QX435T3K57HBQ94' , '08', 'COUNTRY_JP', '茨城県'),
    ('01G94NBXEY8QX435T3KAHHEQPA' , '09', 'COUNTRY_JP', '栃木県'),
    ('01G94NBXEY8QX435T3KBTKN33G' , '10', 'COUNTRY_JP', '群馬県'),
    ('01G94NBXEY8QX435T3KG03V9FZ' , '11', 'COUNTRY_JP', '埼玉県'),
    ('01G94NBXEY6ADZ2S71Q77C221N' , '12', 'COUNTRY_JP', '千葉県'),
    ('01G94NBXEY8QX435T3KR2Y4XPA' , '13', 'COUNTRY_JP', '東京都'),
    ('01G94NBXEY8QX435T3KP5JWR4B' , '14', 'COUNTRY_JP', '神奈川県'),
    ('01G94NBXEY8QX435T3KWJ9V93B' , '15', 'COUNTRY_JP', '新潟県'),
    ('01G94NBXEY6ADZ2S71QATGED75' , '16', 'COUNTRY_JP', '富山県'),
    ('01G94NBXEY8QX435T3KYVQ4SSW' , '17', 'COUNTRY_JP', '石川県'),
    ('01G94NBXEY6ADZ2S71QFWBNPCN' , '18', 'COUNTRY_JP', '福井県'),
    ('01G94NBXEY8QX435T3M4METPJE' , '19', 'COUNTRY_JP', '山梨県'),
    ('01G94NBXEY6ADZ2S71QP4CQPGN' , '20', 'COUNTRY_JP', '長野県'),
    ('01G94NBXEY8QX435T3M9Y3D1BR' , '21', 'COUNTRY_JP', '岐阜県'),
    ('01G94NBXEY6ADZ2S71QR4DJMMC' , '22', 'COUNTRY_JP', '静岡県'),
    ('01G94NBXEY8QX435T3MDEQD69A' , '23', 'COUNTRY_JP', '愛知県'),
    ('01G94NBXEY8QX435T3KWEM3GVD' , '24', 'COUNTRY_JP', '三重県'),
    ('01G94NBXEY6ADZ2S71QZC24E6C' , '25', 'COUNTRY_JP', '滋賀県'),
    ('01G94NBXEY8QX435T3MPGA0W82' , '26', 'COUNTRY_JP', '京都府'),
    ('01G94NBXEY6ADZ2S71R2BMD7W2' , '27', 'COUNTRY_JP', '大阪府'),
    ('01G94NBXEY8QX435T3MJM43P7R' , '28', 'COUNTRY_JP', '兵庫県'),
    ('01G94NBXEY6ADZ2S71QXBC7GJS' , '29', 'COUNTRY_JP', '奈良県'),
    ('01G94NBXEY6ADZ2S71QMXGQ29D' , '30', 'COUNTRY_JP', '和歌山県'),
    ('01G94NBXEY8QX435T3MWDSJT9T' , '31', 'COUNTRY_JP', '鳥取県'),
    ('01G94NBXEY6ADZ2S71RB1TPGYG' , '32', 'COUNTRY_JP', '島根県'),
    ('01G94NBXEY8QX435T3N1A783D7' , '33', 'COUNTRY_JP', '岡山県'),
    ('01G94NBXEY6ADZ2S71RD420M6E' , '34', 'COUNTRY_JP', '広島県'),
    ('01G94NBXEYBQZ82YS2DQQ1GC1Z' , '35', 'COUNTRY_JP', '山口県'),
    ('01G94NBXEY8QX435T3NBHZK7P8' , '36', 'COUNTRY_JP', '徳島県'),
    ('01G94NBXEY6ADZ2S71RRN5TPVH' , '37', 'COUNTRY_JP', '香川県'),
    ('01G94NBXEYBQZ82YS2DSZS9BD2' , '38', 'COUNTRY_JP', '愛媛県'),
    ('01G94NBXEY6ADZ2S71S2SGAZWJ' , '39', 'COUNTRY_JP', '高知県'),
    ('01G94NBXEY8QX435T3NGZT7X3F' , '40', 'COUNTRY_JP', '福岡県'),
    ('01G94NBXEY6ADZ2S71S96MX6SW' , '41', 'COUNTRY_JP', '佐賀県'),
    ('01G94NBXEY8QX435T3NK3FKGXS' , '42', 'COUNTRY_JP', '長崎県'),
    ('01G94NBXEYBQZ82YS2E8XW28GE' , '43', 'COUNTRY_JP', '熊本県'),
    ('01G94NBXEY8QX435T3NKRPP0SG' , '44', 'COUNTRY_JP', '大分県'),
    ('01G94NBXEY6ADZ2S71SFKB1C9M' , '45', 'COUNTRY_JP', '宮崎県'),
    ('01G94NBXEYBQZ82YS2EF7AWJSF' , '46', 'COUNTRY_JP', '鹿児島県'),
    ('01G94NBXEY6ADZ2S71SM7FND3K' , '47', 'COUNTRY_JP', '沖縄県')
    ON CONFLICT DO NOTHING;
