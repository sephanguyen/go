- table:
    schema: public
    name: assign_study_plan_tasks
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - id
      - study_plan_ids
      - status
      - course_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - id
      - study_plan_ids
      - status
      - course_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - course_id
      - created_at
      - deleted_at
      - id
      - status
      - study_plan_ids
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: assignment_study_plan_items
  object_relationships:
  - name: assignment
    using:
      foreign_key_constraint_on: assignment_id
  - name: study_plan_item
    using:
      foreign_key_constraint_on: study_plan_item_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - assignment_id
      - study_plan_item_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - assignment_id
      - study_plan_item_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - assignment_id
      - created_at
      - deleted_at
      - study_plan_item_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - assignment_id
      - study_plan_item_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: assignments
  array_relationships:
  - name: assignment_study_plan_items
    using:
      foreign_key_constraint_on:
        column: assignment_id
        table:
          schema: public
          name: assignment_study_plan_items
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - assignment_id
      - attachment
      - check_list
      - content
      - created_at
      - deleted_at
      - display_order
      - instruction
      - is_required_grade
      - max_grade
      - name
      - settings
      - status
      - type
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - assignment_id
      - attachment
      - check_list
      - content
      - created_at
      - deleted_at
      - display_order
      - instruction
      - is_required_grade
      - max_grade
      - name
      - settings
      - status
      - type
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - assignment_id
      - attachment
      - check_list
      - content
      - created_at
      - deleted_at
      - display_order
      - instruction
      - is_required_grade
      - max_grade
      - name
      - settings
      - status
      - type
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - assignment_id
      - attachment
      - check_list
      - content
      - created_at
      - deleted_at
      - display_order
      - instruction
      - is_required_grade
      - max_grade
      - name
      - settings
      - status
      - type
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: books
  array_relationships:
  - name: book_chapters
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: books_chapters
        column_mapping:
          book_id: book_id
  - name: course_books
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: courses_books
        column_mapping:
          book_id: book_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - book_id
      - copied_from
      - country
      - created_at
      - deleted_at
      - grade
      - name
      - school_id
      - subject
      - updated_at
      - book_type
      - is_v2
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - book_id
      - copied_from
      - country
      - created_at
      - deleted_at
      - grade
      - name
      - school_id
      - subject
      - updated_at
      - book_type
      - is_v2
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - grade
      - school_id
      - book_id
      - country
      - name
      - subject
      - created_at
      - deleted_at
      - updated_at
      - book_type
      - is_v2
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - grade
      - school_id
      - book_id
      - country
      - name
      - subject
      - created_at
      - deleted_at
      - updated_at
      - book_type
      - is_v2
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - book_id
      - book_type
      - copied_from
      - country
      - created_at
      - deleted_at
      - grade
      - name
      - school_id
      - subject
      - updated_at
      - is_v2
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: books_chapters
  object_relationships:
  - name: book
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: books
        column_mapping:
          book_id: book_id
  - name: chapter
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: chapters
        column_mapping:
          chapter_id: chapter_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - book_id
      - chapter_id
      - updated_at
      - created_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - book_id
      - chapter_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - book:
            resource_path:
              _eq: X-Hasura-Resource-Path
        - chapter:
            resource_path:
              _eq: X-Hasura-Resource-Path
        - book:
            deleted_at:
              _is_null: true
        - chapter:
            deleted_at:
              _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - book_id
      - chapter_id
      - updated_at
      - created_at
      - deleted_at
      filter:
        deleted_at:
          _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - book_id
      - chapter_id
      - updated_at
      - created_at
      - deleted_at
      filter:
        deleted_at:
          _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - book_id
      - chapter_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - book:
            resource_path:
              _eq: X-Hasura-Resource-Path
        - chapter:
            resource_path:
              _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: chapters
  object_relationships:
  - name: book_chapters
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: books_chapters
        column_mapping:
          chapter_id: chapter_id
  array_relationships:
  - name: topics
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: topics
        column_mapping:
          chapter_id: chapter_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - chapter_id
      - country
      - created_at
      - deleted_at
      - display_order
      - grade
      - name
      - school_id
      - subject
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - chapter_id
      - country
      - created_at
      - deleted_at
      - display_order
      - grade
      - name
      - school_id
      - subject
      - updated_at
      - book_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - chapter_id
      - country
      - created_at
      - deleted_at
      - display_order
      - grade
      - name
      - school_id
      - subject
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - chapter_id
      - country
      - created_at
      - deleted_at
      - display_order
      - grade
      - name
      - school_id
      - subject
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - chapter_id
      - country
      - created_at
      - deleted_at
      - display_order
      - grade
      - name
      - school_id
      - subject
      - updated_at
      - book_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: course_students
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - course_id
      - course_student_id
      - student_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - course_id
      - student_id
      - created_at
      - updated_at
      - deleted_at
      - course_student_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - course_id
      - course_student_id
      - created_at
      - deleted_at
      - student_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - course_id
      - student_id
      - created_at
      - updated_at
      - deleted_at
      - course_student_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: course_study_plans
  object_relationships:
  - name: study_plan
    using:
      foreign_key_constraint_on: study_plan_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - course_id
      - study_plan_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - course_id
      - study_plan_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - study_plan:
            resource_path:
              _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - course_id
      - created_at
      - deleted_at
      - study_plan_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - study_plan:
            resource_path:
              _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - course_id
      - study_plan_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - study_plan:
            resource_path:
              _eq: X-Hasura-Resource-Path
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: courses_books
  object_relationships:
  - name: books
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: books
        column_mapping:
          book_id: book_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - book_id
      - course_id
      - updated_at
      - created_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - books:
            _and:
            - deleted_at:
                _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - books:
            _and:
            - resource_path:
                _eq: X-Hasura-Resource-Path
            - deleted_at:
                _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - books:
            _and:
            - resource_path:
                _eq: X-Hasura-Resource-Path
            - deleted_at:
                _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - books:
            _and:
            - resource_path:
                _eq: X-Hasura-Resource-Path
            - deleted_at:
                _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: learning_objectives
  array_relationships:
  - name: quiz_sets
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: quiz_sets
        column_mapping:
          lo_id: lo_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - lo_id
      - name
      - country
      - grade
      - subject
      - topic_id
      - master_lo_id
      - display_order
      - prerequisites
      - video
      - study_guide
      - video_script
      - updated_at
      - created_at
      - school_id
      - deleted_at
      - copied_from
      - type
      - vendor_type
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - display_order
      - grade
      - school_id
      - copied_from
      - country
      - lo_id
      - master_lo_id
      - name
      - study_guide
      - subject
      - topic_id
      - type
      - video
      - video_script
      - prerequisites
      - created_at
      - deleted_at
      - updated_at
      - vendor_type
      filter:
        _and:
        - school_id:
            _in: X-Hasura-School-Ids
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - display_order
      - grade
      - school_id
      - copied_from
      - country
      - lo_id
      - master_lo_id
      - name
      - study_guide
      - subject
      - topic_id
      - type
      - video
      - video_script
      - prerequisites
      - created_at
      - deleted_at
      - updated_at
      - vendor_type
      filter:
        _and:
        - school_id:
            _in: X-Hasura-School-Ids
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - display_order
      - grade
      - school_id
      - copied_from
      - country
      - lo_id
      - master_lo_id
      - name
      - study_guide
      - subject
      - topic_id
      - type
      - video
      - video_script
      - prerequisites
      - created_at
      - deleted_at
      - updated_at
      - vendor_type
      filter:
        _and:
        - school_id:
            _in: X-Hasura-School-Ids
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - copied_from
      - country
      - created_at
      - deleted_at
      - display_order
      - grade
      - lo_id
      - master_lo_id
      - name
      - prerequisites
      - school_id
      - study_guide
      - subject
      - topic_id
      - type
      - updated_at
      - video
      - video_script
      - vendor_type
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - school_id:
            _in: X-Hasura-School-Ids
      allow_aggregations: true
- table:
    schema: public
    name: lo_study_plan_items
  object_relationships:
  - name: study_plan_item
    using:
      foreign_key_constraint_on: study_plan_item_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - lo_id
      - study_plan_item_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - lo_id
      - study_plan_item_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - created_at
      - deleted_at
      - lo_id
      - study_plan_item_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - lo_id
      - study_plan_item_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: master_study_plan_view
  object_relationships:
  - name: learning_material
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: learning_material
        column_mapping:
          learning_material_id: learning_material_id
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - chapter_display_order
      - lm_display_order
      - topic_display_order
      - book_id
      - chapter_id
      - learning_material_id
      - status
      - study_plan_id
      - topic_id
      - available_from
      - available_to
      - end_date
      - school_date
      - start_date
      - updated_at
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - chapter_display_order
      - lm_display_order
      - topic_display_order
      - book_id
      - chapter_id
      - learning_material_id
      - status
      - study_plan_id
      - topic_id
      - available_from
      - available_to
      - end_date
      - school_date
      - start_date
      - updated_at
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - chapter_display_order
      - lm_display_order
      - topic_display_order
      - book_id
      - chapter_id
      - learning_material_id
      - status
      - study_plan_id
      - topic_id
      - available_from
      - available_to
      - end_date
      - school_date
      - start_date
      - updated_at
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: quiz_sets
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - quiz_set_id
      - lo_id
      - quiz_external_ids
      - status
      - updated_at
      - created_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - lo_id
      - quiz_set_id
      - status
      - quiz_external_ids
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - lo_id
      - quiz_set_id
      - status
      - quiz_external_ids
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - lo_id
      - quiz_set_id
      - status
      - quiz_external_ids
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - created_at
      - deleted_at
      - lo_id
      - quiz_external_ids
      - quiz_set_id
      - status
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: quizzes
  array_relationships:
  - name: quiz_sets
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: quiz_sets
        column_mapping:
          external_id: quiz_external_ids
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - quiz_id
      - country
      - school_id
      - external_id
      - kind
      - question
      - explanation
      - options
      - tagged_los
      - difficulty_level
      - created_by
      - approved_by
      - status
      - updated_at
      - created_at
      - deleted_at
      - label_type
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - difficulty_level
      - school_id
      - explanation
      - options
      - question
      - approved_by
      - country
      - created_by
      - external_id
      - point
      - question_group_id
      - question_tag_ids
      - kind
      - quiz_id
      - status
      - tagged_los
      - created_at
      - deleted_at
      - updated_at
      - label_type
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - difficulty_level
      - school_id
      - explanation
      - options
      - question
      - approved_by
      - country
      - created_by
      - external_id
      - kind
      - quiz_id
      - status
      - tagged_los
      - created_at
      - deleted_at
      - updated_at
      - label_type
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - difficulty_level
      - school_id
      - explanation
      - options
      - question
      - approved_by
      - country
      - created_by
      - external_id
      - kind
      - quiz_id
      - status
      - tagged_los
      - created_at
      - deleted_at
      - updated_at
      - label_type
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - approved_by
      - country
      - created_at
      - created_by
      - deleted_at
      - difficulty_level
      - explanation
      - external_id
      - point
      - question_group_id
      - question_tag_ids
      - kind
      - options
      - question
      - quiz_id
      - school_id
      - status
      - tagged_los
      - updated_at
      - label_type
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: student_study_plans
  object_relationships:
  - name: study_plan
    using:
      foreign_key_constraint_on: study_plan_id
  array_relationships:
  - name: course_students
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: course_students
        column_mapping:
          student_id: student_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - study_plan_id
      - student_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - course_students:
            _and:
            - deleted_at:
                _is_null: true
        - study_plan:
            _and:
            - deleted_at:
                _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - study_plan_id
      - student_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - course_students:
            _and:
            - deleted_at:
                _is_null: true
        - study_plan:
            _and:
            - deleted_at:
                _is_null: true
            - resource_path:
                _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - created_at
      - deleted_at
      - student_id
      - study_plan_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - course_students:
            _and:
            - deleted_at:
                _is_null: true
        - study_plan:
            _and:
            - deleted_at:
                _is_null: true
            - resource_path:
                _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - study_plan_id
      - student_id
      - created_at
      - updated_at
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - course_students:
            _and:
            - deleted_at:
                _is_null: true
        - study_plan:
            _and:
            - deleted_at:
                _is_null: true
            - resource_path:
                _eq: X-Hasura-Resource-Path
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: study_plan_items
  object_relationships:
  - name: assignment_study_plan_item
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: assignment_study_plan_items
        column_mapping:
          study_plan_item_id: study_plan_item_id
  - name: lo_study_plan_item
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: lo_study_plan_items
        column_mapping:
          study_plan_item_id: study_plan_item_id
  - name: study_plan
    using:
      foreign_key_constraint_on: study_plan_id
  array_relationships:
  - name: assignment_study_plan_items
    using:
      foreign_key_constraint_on:
        column: study_plan_item_id
        table:
          schema: public
          name: assignment_study_plan_items
  - name: lo_study_plan_items
    using:
      foreign_key_constraint_on:
        column: study_plan_item_id
        table:
          schema: public
          name: lo_study_plan_items
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - available_from
      - available_to
      - completed_at
      - content_structure
      - copy_study_plan_item_id
      - created_at
      - deleted_at
      - display_order
      - end_date
      - start_date
      - status
      - study_plan_id
      - study_plan_item_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - available_from
      - available_to
      - completed_at
      - content_structure
      - copy_study_plan_item_id
      - created_at
      - deleted_at
      - display_order
      - end_date
      - start_date
      - status
      - study_plan_id
      - study_plan_item_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - study_plan:
            resource_path:
              _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - available_from
      - available_to
      - completed_at
      - content_structure
      - copy_study_plan_item_id
      - created_at
      - deleted_at
      - display_order
      - end_date
      - start_date
      - status
      - study_plan_id
      - study_plan_item_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - study_plan:
            resource_path:
              _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - available_from
      - available_to
      - completed_at
      - content_structure
      - copy_study_plan_item_id
      - created_at
      - deleted_at
      - display_order
      - end_date
      - start_date
      - status
      - study_plan_id
      - study_plan_item_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - study_plan:
            resource_path:
              _eq: X-Hasura-Resource-Path
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: study_plans
  object_relationships:
  - name: study_plan
    using:
      foreign_key_constraint_on: master_study_plan_id
  array_relationships:
  - name: course_study_plans
    using:
      foreign_key_constraint_on:
        column: study_plan_id
        table:
          schema: public
          name: course_study_plans
  - name: student_study_plans
    using:
      foreign_key_constraint_on:
        column: study_plan_id
        table:
          schema: public
          name: student_study_plans
  - name: study_plan_items
    using:
      foreign_key_constraint_on:
        column: study_plan_id
        table:
          schema: public
          name: study_plan_items
  - name: study_plans
    using:
      foreign_key_constraint_on:
        column: master_study_plan_id
        table:
          schema: public
          name: study_plans
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - grades
      - master_study_plan_id
      - name
      - school_id
      - status
      - study_plan_id
      - study_plan_type
      - track_school_progress
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - grades
      - master_study_plan_id
      - name
      - school_id
      - status
      - study_plan_id
      - study_plan_type
      - track_school_progress
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - grades
      - master_study_plan_id
      - name
      - school_id
      - status
      - study_plan_id
      - study_plan_type
      - track_school_progress
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - book_id
      - course_id
      - created_at
      - deleted_at
      - grades
      - master_study_plan_id
      - name
      - school_id
      - status
      - study_plan_id
      - study_plan_type
      - track_school_progress
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: topics
  array_relationships:
  - name: learning_objectives
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: learning_objectives
        column_mapping:
          topic_id: topic_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - topic_id
      - name
      - country
      - grade
      - subject
      - topic_type
      - updated_at
      - created_at
      - status
      - display_order
      - published_at
      - total_los
      - chapter_id
      - icon_url
      - school_id
      - attachment_names
      - attachment_urls
      - instruction
      - copied_topic_id
      - essay_required
      - deleted_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - essay_required
      - display_order
      - grade
      - school_id
      - total_los
      - chapter_id
      - copied_topic_id
      - country
      - icon_url
      - instruction
      - name
      - status
      - subject
      - topic_id
      - topic_type
      - attachment_names
      - attachment_urls
      - created_at
      - deleted_at
      - published_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - essay_required
      - display_order
      - grade
      - school_id
      - total_los
      - chapter_id
      - copied_topic_id
      - country
      - icon_url
      - instruction
      - name
      - status
      - subject
      - topic_id
      - topic_type
      - attachment_names
      - attachment_urls
      - created_at
      - deleted_at
      - published_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - essay_required
      - display_order
      - grade
      - school_id
      - total_los
      - chapter_id
      - copied_topic_id
      - country
      - icon_url
      - instruction
      - name
      - status
      - subject
      - topic_id
      - topic_type
      - attachment_names
      - attachment_urls
      - created_at
      - deleted_at
      - published_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: MANABIE
    permission:
      columns:
      - attachment_names
      - attachment_urls
      - chapter_id
      - copied_topic_id
      - country
      - created_at
      - deleted_at
      - display_order
      - essay_required
      - grade
      - icon_url
      - instruction
      - name
      - published_at
      - school_id
      - status
      - subject
      - topic_id
      - topic_type
      - total_los
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: topics_assignments
  object_relationships:
  - name: assignment
    using:
      foreign_key_constraint_on: assignment_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - topic_id
      - assignment_id
      - display_order
      - created_at
      - updated_at
      - deleted_at
      - resource_path
      filter:
        _and:
        - deleted_at:
            _is_null: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - display_order
      - assignment_id
      - resource_path
      - topic_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - assignment:
            _and:
            - resource_path:
                _eq: X-Hasura-Resource-Path
  - role: MANABIE
    permission:
      columns:
      - assignment_id
      - created_at
      - deleted_at
      - display_order
      - resource_path
      - topic_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - assignment:
            _and:
            - resource_path:
                _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: topics_learning_objectives
  object_relationships:
  - name: learning_objective
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: learning_objectives
        column_mapping:
          lo_id: lo_id
  select_permissions:
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - display_order
      - lo_id
      - resource_path
      - topic_id
      - created_at
      - deleted_at
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - learning_objective:
            deleted_at:
              _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - topic_id
      - lo_id
      - display_order
      - updated_at
      - created_at
      - deleted_at
      - resource_path
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - learning_objective:
            deleted_at:
              _is_null: true
  - role: MANABIE
    permission:
      columns:
      - created_at
      - deleted_at
      - display_order
      - lo_id
      - resource_path
      - topic_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - learning_objective:
            deleted_at:
              _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: learning_material
  select_permissions:
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - display_order
      - learning_material_id
      - name
      - resource_path
      - type
      - topic_id
      - created_at
      - is_published
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
  - role: MANABIE
    permission:
      columns:
      - created_at
      - display_order
      - learning_material_id
      - name
      - resource_path
      - topic_id
      - type
      - is_published
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - display_order
      - learning_material_id
      - name
      - resource_path
      - type
      - topic_id
      - created_at
      - is_published
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
- table:
    schema: public
    name: learning_objective
  select_permissions:
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - learning_material_id
      - name
      - resource_path
      - study_guide
      - video
      - video_script
      - topic_id
      - display_order
      - vendor_type
      - is_published
      - manual_grading
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
  - role: MANABIE
    permission:
      columns:
      - display_order
      - learning_material_id
      - name
      - resource_path
      - study_guide
      - topic_id
      - video
      - video_script
      - vendor_type
      - is_published
      - manual_grading
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: exam_lo
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - display_order
      - instruction
      - learning_material_id
      - name
      - resource_path
      - topic_id
      - grade_to_pass
      - manual_grading
      - time_limit
      - maximum_attempt
      - approve_grading
      - review_option
      - grade_capping
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - display_order
      - instruction
      - learning_material_id
      - name
      - resource_path
      - topic_id
      - grade_to_pass
      - manual_grading
      - time_limit
      - maximum_attempt
      - approve_grading
      - review_option
      - grade_capping
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
- table:
    schema: public
    name: flash_card
  select_permissions:
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - learning_material_id
      - name
      - resource_path
      - topic_id
      - display_order
      - is_published
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
  - role: MANABIE
    permission:
      columns:
      - display_order
      - learning_material_id
      - name
      - resource_path
      - topic_id
      - is_published
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: assignment
  select_permissions:
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - allow_late_submission
      - allow_resubmission
      - attachments
      - instruction
      - is_required_grade
      - learning_material_id
      - max_grade
      - name
      - require_assignment_note
      - require_attachment
      - require_video_submission
      - resource_path
      - topic_id
      - display_order
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
  - role: MANABIE
    permission:
      columns:
      - allow_late_submission
      - allow_resubmission
      - attachments
      - display_order
      - instruction
      - is_required_grade
      - learning_material_id
      - max_grade
      - name
      - require_assignment_note
      - require_attachment
      - require_video_submission
      - resource_path
      - topic_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: task_assignment
  select_permissions:
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - attachments
      - instruction
      - learning_material_id
      - name
      - require_assignment_note
      - require_attachment
      - require_complete_date
      - require_correctness
      - require_duration
      - require_understanding_level
      - resource_path
      - topic_id
      - display_order
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
  - role: MANABIE
    permission:
      columns:
      - attachments
      - display_order
      - instruction
      - learning_material_id
      - name
      - require_assignment_note
      - require_attachment
      - require_complete_date
      - require_correctness
      - require_duration
      - require_understanding_level
      - resource_path
      - topic_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: question_group
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - description
      - rich_description
      - learning_material_id
      - name
      - question_group_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - description
      - rich_description
      - learning_material_id
      - name
      - question_group_id
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: question_tag_type
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - question_tag_type_id
      - name
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - question_tag_type_id
      - name
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
- table:
    schema: public
    name: question_tag
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - question_tag_id
      - question_tag_type_id
      - name
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - question_tag_id
      - question_tag_type_id
      - name
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
- table:
    schema: public
    name: get_student_study_plans_by_filter_view
  select_permissions:
  - role: MANABIE
    permission:
      columns:
        - study_plan_id
        - master_study_plan_id
        - name
        - study_plan_type
        - school_id
        - created_at
        - updated_at
        - deleted_at
        - course_id
        - resource_path
        - book_id
        - status
        - track_school_progress
        - grades
        - student_id
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
        - study_plan_id
        - master_study_plan_id
        - name
        - study_plan_type
        - school_id
        - created_at
        - updated_at
        - deleted_at
        - course_id
        - resource_path
        - book_id
        - status
        - track_school_progress
        - grades
        - student_id
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: import_study_plan_task
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - task_id
      - study_plan_id
      - status
      - error_detail
      - imported_by
      - updated_at
      - created_at
      - resource_path
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - task_id
      - study_plan_id
      - status
      - error_detail
      - imported_by
      - updated_at
      - created_at
      - resource_path
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - task_id
      - study_plan_id
      - status
      - error_detail
      - imported_by
      - updated_at
      - created_at
      - resource_path
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: users
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - first_name
      - last_name
      - name
      - user_id
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
        - deleted_at:
            _is_null: true
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - first_name
      - last_name
      - name
      - user_id
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
        - deleted_at:
            _is_null: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - first_name
      - last_name
      - name
      - user_id
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
        - deleted_at:
            _is_null: true
  - role: USER_GROUP_SCHOOL_STAFF
    permission:
      columns:
      - first_name
      - last_name
      - name
      - user_id
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
        - deleted_at:
            _is_null: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - first_name
      - last_name
      - name
      - user_id
      filter:
        _and:
        - resource_path:
            _eq: X-Hasura-Resource-Path
        - deleted_at:
            _is_null: true
- table:
    schema: public
    name: content_bank_medias
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - created_at
      - created_by
      - deleted_at
      - file_size_bytes
      - id
      - name
      - resource
      - type
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - created_at
      - created_by
      - deleted_at
      - file_size_bytes
      - id
      - name
      - resource
      - type
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: lms_study_plans
  object_relationships:
  - name: academic_year_data
    using:
      manual_configuration:
        remote_table:
          schema: public
          name: academic_year
        column_mapping:
          academic_year: academic_year_id
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - academic_year
      - course_id
      - created_at
      - deleted_at
      - name
      - status
      - study_plan_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - academic_year
      - course_id
      - created_at
      - deleted_at
      - name
      - status
      - study_plan_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - academic_year
      - course_id
      - created_at
      - deleted_at
      - name
      - status
      - study_plan_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - academic_year
      - course_id
      - created_at
      - deleted_at
      - name
      - status
      - study_plan_id
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
- table:
    schema: public
    name: academic_year
  select_permissions:
  - role: MANABIE
    permission:
      columns:
      - academic_year_id
      - created_at
      - deleted_at
      - end_date
      - name
      - start_date
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_ADMIN
    permission:
      columns:
      - academic_year_id
      - created_at
      - deleted_at
      - end_date
      - name
      - start_date
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
      allow_aggregations: true
  - role: USER_GROUP_SCHOOL_ADMIN
    permission:
      columns:
      - academic_year_id
      - created_at
      - deleted_at
      - end_date
      - name
      - start_date
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
  - role: USER_GROUP_TEACHER
    permission:
      columns:
      - academic_year_id
      - created_at
      - deleted_at
      - end_date
      - name
      - start_date
      - updated_at
      filter:
        _and:
        - deleted_at:
            _is_null: true
        - resource_path:
            _eq: X-Hasura-Resource-Path
      allow_aggregations: true
