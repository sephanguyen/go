package eureka

import (
	"context"
	"fmt"
	"reflect"

	epb "github.com/manabie-com/backend/pkg/manabuf/eureka/v1"
)

type ImgInfo struct {
	Src  string
	Lang string
	Text string
}

func (s *suite) aListOfDocumentImages(ctx context.Context) (context.Context, error) {
	stepState := StepStateFromContext(ctx)
	stepState.ImgInfos = []*ImgInfo{
		{
			Src:  "data:image/png;base64,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",
			Lang: "en",
			Text: "i love you so much",
		},
		{
			Src:  "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVMAAAA4CAYAAABADxtZAAAABHNCSVQICAgIfAhkiAAAABl0RVh0U29mdHdhcmUAZ25vbWUtc2NyZWVuc2hvdO8Dvz4AACAASURBVHic7Z17WFTV/v9fnDA2SW744mmmLGfMcxjU8wPUAsxvQHoCrbyVSGopWSreQkrycgqVysvxfkkTPYpYipg3TFQ83vB4gdKAUoGTMuOTNuPXOcxOiE1N7d8fg4rKZYCh873s1/Pw+Dgze601n732e33WZ33WGreKigoFFRUVFZVm8bt/dwNUVFRU/jegiqmKioqKC1DFVEVFRcUFqGKqoqKi4gJUMVVRUVFxAaqYqqioqLgAVUxVVFRUXIAqpioqKiouQBVTFRUVFRegiqmKioqKC1DFVEVFRcUFqGKqonIXssVIQc4BMjLzkf7djVH5H4P7v7sBTUUpySbl0Pf4dAmjf1gHBBeXbzmbTX65iLZjIIHtXF06gERxThFyWz2GzhqXt/9/KtLFPIokEU1HHXqxmVaxgyxLVFXJyOWV2CQJm82GzWZDkmyU2SxI18swW8yYLRbM35kwXjZiKa++3l3DwGWH+DS2Q7O/l8q/AxljXi4mWUAXGIJebNna3Fru1CiJ1GgDE453YNrBk7z3/9xcWrotbQgdx+1FHPUZ51f0dbEYyeyKfZzh26oInfMPDsV3cmnpANi2M9QwgszfT+JI/jyCXTCsyaYcNq5ewwGfSeyYGtr8Av8N5CeH0XP+GYKSvuTE1GbY3biOvt3jyZHr+Ywgom+vR2zrjVarQavRon9Uj+YRAfkHHVEvR6D3argq5cwH9Oy3ilLPEP6as4NX27m2r/+vpPJzYjvGsO2BEewqWs2zLeLWlTD/mf8k+avfE7/vG+b0aNn70oKeqQ3J9it4BhH6x3q+hL1pLTF+a0RGICIktAW8uips0q/QSktQN3+Xlw6A6QJGGe4PDMLgorugGLNZvnoXxofbkD0hlEgnhKDpyEhWiTKLGYvZjPm6GbNVQrr+PWarRJnVhlTtBdrKZYJmHGJ9tE/DpVb8AAgY/HTNa56+P7PWtsFcZSJ15nyOPTqRLQuHohc98Pb6iX0T/8yEL3oybf9mXtXc2T/Nm1+l29tZpFn/zompXRusys3XB7FK4gdEvH1bWkhbxu6/Oe4eeApu4KtB02KVeKPx/h3Qhv/wbrFKbuGSx1i+WEBBhYhe44PoKyK4Az9f43vLj9zfXo/GLiFdKXNMpcxmjKZijBeNFJ/L53Shwrj9J0lslOd6jfyvL4NnAD1Cqq0kWyi+ImDo6AJf3m7C+F0FePYgqHONdtklpAoRsTFVlFsovmTDQ6NFK4oI1cpvzs2jxC7QrVsgWC0YrWak6zbMZiPGy0aM35Zgemw0m6dGOF2VZ/gIRnRLITlvNxv3zSHSGfGSZQSh9uHImJPGsWIbkrWM778zYqq+fxaLGbNFQrbXelktCHSoqM9FvNUazJZr0Ko9Dz/q6WzhdfAQIS8OASTE05+QvXEbe6yTWdnN0V9iJo9g+XNLWLLiNK9+0OP2ZTeOs3TBLqTHXmHqGw0LKQCCh+PfBzzxdsET1fJ2l9kf/zRvH/kF/evr2Rsf1LgG2nFOOSw5bMwsxbudHu2jWjS+Wnx8Re6I3gieIFkwVg8OpitGzBYz338n0WHkIsZ0bc7g5IGnhxu4C79JQNMlVRRlTKLXB2fqeDeZHprkOmoX0RjC0bSuu2zZaqHKQ0T0ctwBuVyi6noORwvKwQNKUycyLO80R88WIQ/8hKt/G4QAlKZNYcUPfyb+jT7o6nFdZclC1X23y8cuI32XR8HlX8ELSjOWM9tURHFBLqfPGuk0+xv2xj3coE1uYfqE2KeTKKzjATid9ASPJNX+XpvhrzhfDwB+jHwtgmV5e8n6ZCvXouN4qK6Pyib2L3ibt/b9gdTseQTX4sUWfZrE+E/+684X3QVEjRZDtyC0j2rQt9Oj1Xry/d4UUk5+j6ANZkDsSGJ6d8Wg06P1vT2A3IH5MxIm7UUICaVrZ390eh16zU+YLL9AKy369o386nUiEjE9kcidcXy6NJ3EZ+PQAZ49RxDTLYXkz3dzfFYPnq5+Eoo+fp+1l37PwHUz6e/byKq8RDxc0OIWtTsAAoL7Txgvfof2vjbOtyttIuPn7cRz7N/Z60zoy5zDx1Pm1tn3AbAk06N9bfogEtN7Ya1iat79F0Z9/BWyXQZZRrbLyHIVVVVQaa9ElmWoqqLKLiPLAHnMDPJi5h1qJzicPnfwn/R3Trzr5MBZDy4RU33PV3hnck+kCglZrqTSDlSUcCwrH7lLfwY+pUfT1gcfUYPo641Wq0Wv06Nrp3F8oXo4OiOEl+7uWLfII3VpHiCg6RxOn67VImc7yF/nfUyaaTUbV4cx9r25TH05iNocyvz5/ei97FztxZdnM39K9q3/CppA9JpGjpRtn2TouLF0tZVRWQVV9iq4XsiBnFLoGEJUdx3erX0QRRHBxwetr4iPr94hLo/rG1cXoB00mgEfZJF2YiNrvh5bS6xaIj9jGckfLOfAxUoQ9Gw9NZPgZ+/1BPUhLzDE80E6GfwxdPRHr9ejb6+507OwX2PXlBdZmleGIWYRqUviCHDGcy+3UJSTQU5Wxr3vuReTPvEl9tllZFnGZrbw/e9HcCB7Kn7OGMFuYv+G/ZhuPcQSYjtPPP/rGBtXu1VPK6so8/4jEV08+WrtGs4D2EvYuuQEsjYSnXk3a1bfbI+OPqP7UGfg4WY9HoJLQk4tavdqBHdHv/D2cn4GoO+iRbbYyF2SzLbBm4luKDbc8VWWbvGjyFKGZDVTViYjSRJlciX8co28zKMYvQIY0K8HOl8RHx8fRF8tWl8N2ke16P3qSDayfE1uzjFkdwFBFBG9PPFu7XCINAII7gIIDrG0ncsm90obgnpFoPPCca/sMjJUCzFotc2dBTlouQWogg/oEbaEB5LvXcAxZ6eQYWlPxHN9CGhg9C/aPIX5B69SJYMMCAKYczPJvfIQEQlzebOXP4YuBvS+d3Vjax6pC5JZsPYIRhk04WOYP28m0QF3Bk9K0yYyYct5ZBlkOwiCgHwljwJTJR0GJDLm2c4YdDr0XQIxaFzxqMgcjQ/h+Y124nZ+yaJnXHMja5KfHEbv+WcQh33KV2sH3hpELDkrmTVzCWl5ZnAXCXwpnmnT3qS/X1PbIHM6uR/Pzz+LbsTf2LdiIJrGDM+yheLCAorOlVJsNGK8nMf+Haex3BQnQUDw8ED01qLt+SZb1sbWLWg1qfycofoYMssb/qhTiNGkX06lX13f7duPeCbkHfL+lMRXh6bi1+JTymbaHTg9I5jeyy7S56Nv2B7r7Eyruu+u+xb9+M85s+CZpg8ePx9kXMeBpHdIIveYk4PkrWZISHaP27PJetgV+wjDPzcw+9RhptS3duMCWuy2KzYJC9DVV3vXOzKnt85h+nYfJvtHEdBAwN5/2EI2DKvxwo2DjOueSe5jA5g6LYawuuzpG0zsvM95edRnzIqfxopjKcRG5mM5fpiJNYzaYcRKskbUvFBi6yudGHVVQ/9JM3nT1SuA5z5idvq3PNj7I950Wkhl5HIBwckFpaAxYwhbF0f2zmWsfWcAE+8/yLJZM1iWcQEJAX3UJGa9O43obs2LylfmLuStZSdRQhJJXdL4BxpBgyE4EkNw9f+N6+ibeZqyF/6G8dOXa51JNAZx5GdcXdX33jduHGdarxdJa/U8cQmTiY+ufdZyKyPlRAMV/eL4p5W7gMdvEJtrtt2hwRlhHVcRkTiFyG1xZG/byOfvPsPgFk43qr0ZovN94z43QL49e2hBWuzWy9fLkOxg/scyph/9mtyCIowWM5JU7WK38uH7E7spfHxgg95pTcw717L7ioIhYUitQlp5No3kjAs8EhXPpGe0CH6DmbfvWQYueYMZJcMZ0tDo9HMhp8/+AA9G0qPmFNl2nI/n7aTwehm2qipHXMYOuAsIXh54i1pChycx4sl6BNJewrIpS8kTwpg3tQfmrAyOmsxIgo7QyCiC785ntUsUZaWxfMUy9j3yIfkbY5zrRNrBTH1lOdnL8lg9oicbLhVgLAex+wjmfTiT0U9rXTAdvcbWhSkU/OLHuNlTCXCB065YjFjs8Eh7XbOFtCayxQIaDUK5idycImRDGLM+34v/kmQWxPVkw9pENm6bRZgIIHE64wC/6z2EYGf7pd0xXXQTXBExbQjX2F3wrF6DaKzIPBrN2H7vk/3JHrbs/J7B9Xm1soRkFxEbcALkchmpwkyZVcJy3YzZZMRkNCIHjeGdfo3J8ZUpzVpB8upd5BUUYXbXoUX6TYQUWkhMpfOZLEk9ioxM/qYFFOkCCQkMpk9PLcKVz1mTdQnR18Luvwxn64IAYj9czaLYoIYfcHshH68+guQZzFsj68ij/OffSVmxl6CHRzPpmZsvioQmbOOwM40vySPXonB/aCgBNTvB9UK2rl1DXp2L0gKWJ96pR0xl8hdMIDnnXwiaYpb07YalZlmefsSs3sH66A5QbuLApuWsSUnnQIkNENCHX6CgHMKc8k4FAqPCMXx0juLCAtAGE7doCUmv1OWBNYFvt7HxsJVW3d9mzNOuCVXI35kx2QVC2zWULCMjlQsNPqQAsvwFs154jown0/hqwnkSXk3C7Z0vOTG1euYyYhspeX8kuNow8pl1zJ42k9wHdzJv7Rzud6LdilxJFYA7uD5ocxcusrtHaxEBkCsqG3mlQPiQAejTV3F4SwYlsfF1TtGVQ+/Sadh6qnz16DQavNt64+0lIAgeeNivkVcBP31Z9wJ1UNIQ3unnfMuKUl7lucQsLKKB8PD+BJq/4MBJBVrJVDqTTNJMXCymEkcXvM6EefswyoC7hph1J1kVfdMTukZq9KfgE8n841uING1iavwMUuNfxChnsTeu/pxO2/blpJ3/kTYD4xhdh4cpeHk4VlTva9o3MJ84RrEMHZ4MuTM+9+hglu77T/AWEVv74CM6YjayLFMlmTFfsSC3q3vabNubyKiFJ5EBjT6KuLiRDAkPQitKFO94n3EJG9g67S003/hwbFMGBRYFfA1EjX+Psa+9TFRn56fk5r1/YdjoVRTbRQKHJbF0XpzzXpazdeQcpVAW6P5cZOPiXdWc3jCDHMIID+tBSHU6m/nKZcADje7u0NBtbAcSee61VVx4eAxbs5cQWdv38nyBLZYKsJvYNXEwKaV/YPKqCET383gAP1TaHPF3QOgczZudAdsexj07l6r4T9l52I9Zr40jof9LxK44hXVbAzvs7NVPqrvgktX8+miu3W/i4+0JyMg3Gr9h1vOp/kRqVpNyZhfZl97E7/E6ZntaA1Fh4Zium7FIRoxX5OpF6hqfEQ2E9w5EI/rg4yUitvVB306Htp0WfZdGrLB/t4nps7KwPBpNatYGonVugMTRqS/w0srz7M/O572uzV+xrw/XiandxNaJgxm/6Txi70QW+x1ixrp/oX309lbJytwU1mRb0b/+JtHtBIR2o0ndo8UzcihpsxNIicxiTF03xl7I0qW7sbj5MTmuf90eluDtiAf90pQvIXHs8BfIrfQ8E35X7p2gITD4Xo9JEAQEQY+o0ddZqlywkqHjNlBs1xAxfT3rp0XUiHMJBL74JjEbMig4mc3yhSB0DCMuMZ5Jr/ZxagdOTcwHEnlu1CqK3QzE/m0zi172b5GtqkUFhch44B9gaMLVEkVZ65mdtczxXy+NYydSVSEyCrl/HUyvxTZkm4QklWGWJJTqtDfvqPdZ/MZpnl+Uwth3wsj/26Da+8KVbKa9MZ4VJ38kIjmLd570hBsBBGncSFnwZ3wX1HKNpx+TO2oR9B2Yt0fHw0NfZMa4UXT402GmdKp/40kVUE8ukstont1v49HakRJlcyr/9y48nyT86bakpBdyJMfMxMdrn+q7dZ/Ihj0Tay/j5y+Y1v0ZVrSKZNaG5u8AtOVkkyMJhM5IqhZSAJGI0S8TsO4d8g/nYJra1bkFzCbiIjGVOPqXaMZvuYRh/HZ2zu2DknaOGcoVpJv3yl5CyqwVFHqFsWRixO0HXNuPmRN7kZFwiI3bihhTxxbC0pR3SSn8kQf7xDOmRz3TG8EDT2RkuQlHVNzIYd/JG+AdRcSTLlp4+nYTcUOnkWNtQ0jip2x+t8cdD7/58AqmTZ3HtvMVjr3gH25mcVxokxYVMG5i3LjVFLsFELdpJ4uerdvDax4yNukGtPJB9GqKnUQGzU7DrecpCr4ppuiiEdOVIootjimn8ewxjO4CggAeHiLa9np0HR6u7jMCoTMWM+ngcyzYnszyiQN5r7bEbl89em8NfZIWsT6+OoT04LMs2Tab/F5JFHYcweJpfbjt7wtou4QS0rG6b3kFEJ+6nodPPkb/+oQUwF5FJeDm7tbCnmlz7X4boa0PWne4etmERI9Ghn8EQns+iZCexakTucixA5s2YN/n5sgHbcq1d1F23QKArl3tff4nk5HLdtC14AKhS4q2HXiXCR+fQ3z+I7bM7YPGHSpFT7BLVNoqgd+Rv+Jt5p+0E5q0+B7vUxMSjp/7IS6UFCHT6d4bY/6MGQsPI3n6MXVaTL2ji5uXQBug8kbjR9zKw5nkSArC8xFOxiYbpvTMMQqtCg8NXkL6rBqd1m5i17uvM371KSTvAEIC3Mi9oKFr75CmCSky++e+T7bFg9Dk1S0opDX4uQyLTaYpkUKxcyQjO0fWeMXEx32DeTu/Fxv/uYXB9dlfeJKRr/ZgReIhdm4/zXtde9TyGT/itpwgruZrcqFjAVDWEJM4k5H9G7CRbxhDnInZ2R1yoDgVYXUBzbD7Tdx0etq7g9FYhMkOAXf3OasFS2sNdWUDarsH4ueeReHZ0xTaBzbes3TzcDjytuoF6Wbio9ECMvlnCpAH9bilIbaCryiWuR2KaUFcIKYlrJm3FeODkXy8YOQt5RfaatC6g+myCfPe9Yz64DBKSBJLJtTied4M4NfKNbYmTifToqAZNpP4uxZ4pPM5nP6mFONVCXy1aGUzVYBU1VjjyRzLOobFLtAnMuoe73HZCYUeL0+ifyNz1TrErONwp9Fc1oXc3o1kN7F1dD/GZ1xBG5VE+op47v8olN4XQGnqyuONg6Tvuwo+/RgX28jtgY1GQP/4Y8A35ObkIveNaH4owS5htv0IgjfOHBal7+kYgIu+LuAaPere6XUTKY9lscOYkfMvMIwg9L4CDmQV1PJBGbwDCH+qESeR2RXHan6jnyYZWRYaER1wod01fuhFN3IuGzHJ3LnYChSlvcGwS+M5sqJv7V6rXxCG1lB4uZhiiXpj8tL5TNakbGX/iXyKLpupwgPR1wfZ8iu4FXHkYBHBz/ojNkONvMP7E+m7g8x1b/G2/xKSBgZBSQZTP9jlOEbRV+PSDJHaaL6YntvD7sIKHnppzB07Itx0Btq7yxR+NoEXS3Ipbtuf1LXv1JrKYTyTh8kO+sf093SO0pQJJGReBW1/Zs8acNsglhxmxU1gRfalWkc2IXs5MwLciI+OqHN0vYMbx9l98Co88DR9nrnTYynavZLlGx/ggRcm0d+Jou7GOyCEmstHRUtGMz7jItph68laHYPOHU7/AiA3PlXlJldLMFUo4B/UqJ0wTSUwPAz9om8ozVjDnsnhRDd2Z9jdKFXIFYrTu4jcfEW83eGn62bMdnionp4sn99GwuvjSSv80fFCcRoJQ9PqvqCVH5MPnuTD+tLcalJ9z9x+59YocTNvn8igrU+wcXOc04n+LrO7ZyAhgV6kHc5h//FK+vWt+V1NHMjKpfiL71g+qk/tYRRPPzp1bA1fGzFeVqCOfPGitFd5KWEHRruI4akIokLC8ZRtmK8YKbaCVJ7HssHdWaMLof/IN5k+YSB+TZkVagczZ8FRihM2kDq2N6lj73y7zZ8CW3wzRbMPh64sukCxLPB4F8OdHamdDn1rsJ3NpcArjFmfrK8RGK7BjeMsX3sEuZUffaLu9agejprE1KERxMyeU+NosxKWxQ5nQc6vREz/lMPnr2KVrFgvn+Nk2jgC3EH+Nptlcc/TOWQQyXtKG5xK2LK2stuicH+3PkTe0U7J4fW20qN/pHG2qZUbB1m2+iTyYyNYsjDmlicvy41NUbmL+6qtb3WIS0vj1nM0Y576DzBnMnXSGkpcNYuqcm5AUa44clLv9/Kp26MpL2HXzMF0fzqWtEu/IrgLGIZ9xFfWCioq7vqzfMVHQzoiuIsETV7iWLBqJMqvitNTVvncSl5LSKdwbzKzd5Y5XYfr7P4QoU8FINgt7Ms6eke7lTOb2JhXAR2jiKrzAKL26Nvdh/i4f93OynebmD5tB8ZHo1l96iJn921mw8pVrFq3mR37dpH41IPQSk9oZAiiJZeM5OH06N6XGelFTZr6d4hZyclT+1g1O56xr43lzdlzGRPsA4j07eOC2VMDuOikfZnSbwod7rRdxpiTQkL/cWRYgVZ+jEvdQWJtnbO8kI9HjSKl5FfaRMUztpbdRoIujPiP97L+lRrJuwUZpJ/8F5phC/n03YGE6EQEdwHBV09geBBad/AMn8TccT0QjdnMf6UnvRK2YqrzDl1j12fZSAg8NajfXTHZKmRZAcWM5V9NNE8NlJJccq0KHiER1UniDvxf+guLl0wnqqmC3c6xUs33W5m/Jt8lcah6cfcjfmkSYb5uWPa+TUT/BLYV2ppeXquHeFjzAJTlk//PhnY4SxxI20OxHR4JCLj3CLfyQrbOHM5TnbsxfOUFdKM+4sj5K5xYMQgyJxDRK5aUk+bbpeWuJfbZZ5iwo5zQxM1kzYpo3JTQW8THHRRjCZed+Lh8bi2vRU8jx6rwUFQSMwc14og8F9rdf9AAAgSwbPsrK766OZib2DgvhWK7QOiwkfXEQgX6zD/FhbNbGFPHAl1l7jHHCvvoJEZ0rmNwcn+IQYsOcT5vJ4nPPQ7f5bDs9Z48NTqVwiZsBxZ0YYycMofFK+cwss1xdp8t4/6gMUzu1/LHEDZbTD1DwgkTwbJ5OJ38uvB4O1+69E0g5eSPaHXe8LOFf12/OyIqUZS5gKFP9+LtrKt4GEawZvlIp9MWFJvMD4CncO+UULnoCKj/+vuujFn4d07umEa45gcKUsYz/pPvay+wOhGaB4IZ2PfuHRcP4d/5YagsZPHb08k8X3vHla1Gis9bnBYx5TvjHQ+eNmwEY18bQnCTp21PM3ZiL0QkjiY9R88Rs0g7XICltqSGcgmLqdjx0xwbljN7ymwyTU04osEwmvRt84hs54Z0IoXYpzvTrd84ktdmcCCngOIrUiNEXUfIk3r4uZDU5bu5VufnZPJXTeDtT74FzwBeHlaLx+GlQ0MVwp/fY2fel2QtiCXYV8B/xDqOZC4lUjlIwrNd6D5oHG8NfYJOkZPZ80MAU9MPsffdRgop4NalKwGt4acz6aQer2+GIZGfNpFefRPINCm06ZnIxg3OT/Fv4Sq7/+EV4ge2gxt5zH19HAsyMlgWN5wZ2Vb44wimvlH/yVCiTl+/rdwdWznLrtfSCe1mxzGX1QgdI5m17QsOrXgZg5dM8eYJRA3/mBJnvsc9ZV9jf/JgRwK/VzAJS12zQ69BKioqlOb+XcycrQzo1kERRY2i7xauDBgzR9nyxRXlelaCEtg5XIlL/UapsH6l7Fg6S3nztT5KiM5TARQQFH3vRGXfpfLG1XklXYn2dVPwDlDi1hxSzl2tUCokq3LpeKoyppuPAoISmvzl7c+fS1fGvJSoHLHUVp5V2Rv3BwVQ2rzwkVJaW33F6coIv5ttRhE0esXQLVAJ7BaoGPz0isZXUADl/j8vqv36mn/m/coYnZsCohI4bI6y+cg3yqWrVsUqVb9vtSpXL51Tzp06rGTt3KysWjhXWbzropO2uaocmtVX0QvcaiugCKKoaDQaReMrKoLXne8BCq0ClNlfNvIe1Py7dERZ9FoPRXNXvbhrlJj0/3K+nIKlSpiXo18YYuYom49fVK5Kjnt79fwpJWvDPGVsrw6KAAruohKRfEKxNqadklU5d2SLsnjyXTZyF5XQUXOUDXvOKJesTbHBVWX7Kx0dZWmDlbiVe5WT568qVqlCsV69qpw7tU/ZMC9eGRDgfavfG2IWKadq7Y+/sd2L05Vondud1wt6JfazK81rW0WFUnFxjRLp66bwoEGJmb9dOVliVSoqKhTrpVPKp5N6KCIo+E9Sjkh3Xnf18Hwlsp2nEpr0j8bVd/UrJWtlvBLlV23ntsFKvNPPTvP/WvBnS+7mGqlDn2BCphXcBTqEDWHkmHgm9WtaUnnp9km8NH49xbVMBdp0T2Trnll3TKPr5MZBEnoOJcXUhphPzrK+Xx07jaQSdm9Yw65DpykoLsVklZDtAkJrD0QvH7w1GvRRSWx+t+HYjO3Y+wx9bT45FudMHzT9H406b1G+kkfmtl3sO5FLcXEpRouEJMuOcwTcPfAQfdCKIt5aLVqNHt0fAhg0OrbZu6RkSyEHduzn9LkCiouLKLIGszRndaNO/Ddvn8KLk1ZTUF+asDaYuNlL+PCVOrYg22UspmKMJiOmiyYuXCyi+FwBBXn5GMsBdxFD7xiGRvchgEIOZKSTfrgIyY7jp0w6hxIcaKCTwR99Rz06rRaNTnfvyWQ1seYwbeAwVpytP/4pGCKJf28u7wxy3WaKZtvdlM1f565h1+FTmH1DiE1aTVJf16TWlW6fwvC67ueDAcRt2MmiWuqSLxZjaWeo9yzimhSlRPPc9KzqLdoC+t6jmbVwJtFNPhGt8fyGYgpczGbjmfsJ6hnqkh+pc4jGPk5/a8RsqQJRi6Fnf2KHRjh9EwCwSxSfLEJ4KqRFk3rvoNzEsZ2Z7D9zFtMVC7ZyGRnBEfv1EhBbe+PTVoNWq8XQK4YBAb/B7y78N0E25bA1bSsH8i5gNNuQEfBuq0VnCKTrU1HE9A+tN0PDtncSPYetx1i9kCX46jEYDBgCQ4gICyc8PPTeH1ezlnDs2FGO5hwj90wB+edLb284aaUndssJPurbwD2QTRzdtIaNmcfIKy6lrBwELx+82xkI7B5CROQABkb6F3VmXwAAAQZJREFUt3iKzn87rIUcyDzA6XOlGK2VcJ8nWv8Q+kYPIUznIrGzX2PXtFGkWJ/g5ddGMqQFfmSzIX5bMVVR+U2QOL1lF5d9/Qns4o+hXRPkyy5hLCnCZDRhLG/PwCGh//dEUKVRqGKqoqKi4gJclBqloqKi8n8bVUxVVFRUXIAqpioqKiouQBVTFRUVFRegiqmKioqKC1DFVEVFRcUFqGKqoqKi4gJUMVVRUVFxAaqYqqioqLgAVUxVVFRUXIAqpioqKiouQBVTFRUVFRegiqmKioqKC1DFVEVFRcUFqGKqoqKi4gJUMVVRUVFxAaqYqqioqLgAVUxVVFRUXIAqpioqKiou4P8DnPFfj58/cDQAAAAASUVORK5CYII=",
			Lang: "ja",
			Text: "あなたをとても愛しています",
		},
	}
	return StepStateToContext(ctx, stepState), nil
}

func (s *suite) detectTextFromDocumentImages(ctx context.Context) (context.Context, error) {
	stepState := StepStateFromContext(ctx)
	result := make([]*ImgInfo, 0, len(stepState.ImgInfos))
	for _, info := range stepState.ImgInfos {
		resp, err := epb.NewVisionReaderServiceClient(s.Conn).DetectTextFromImage(s.signedCtx(ctx), &epb.DetectTextFromImageRequest{
			Src:  info.Src,
			Lang: info.Lang,
		})
		if err != nil {
			stepState.ResponseErr = err
			return StepStateToContext(ctx, stepState), nil
		}
		result = append(result, &ImgInfo{
			Src:  info.Src,
			Lang: info.Lang,
			Text: resp.Text,
		})
	}
	stepState.Response = result
	return StepStateToContext(ctx, stepState), nil
}

func (s *suite) ourSystemMustReturnTextsCorrectly(ctx context.Context) (context.Context, error) {
	stepState := StepStateFromContext(ctx)
	req := stepState.ImgInfos
	resp := stepState.Response.([]*ImgInfo)
	if !reflect.DeepEqual(req, resp) {
		return StepStateToContext(ctx, stepState), fmt.Errorf("text response is wrong")
	}
	return StepStateToContext(ctx, stepState), nil
}
